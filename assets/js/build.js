function reformatDate(a){return a.split(".").reverse().join("-")}function changeToLineGrid(){var a=document.getElementsByClassName("pin-item");for(i=0;i<a.length;i++)a[i].classList.remove("col-lg-3"),a[i].classList.remove("col-md-3"),a[i].classList.remove("col-sm-3"),a[i].classList.remove("col-xs-3"),a[i].className+=" col-lg-6 col-md-6 col-sm-6 col-xs-6 pin-item-line-grid";isLine=!0,changeGrid=document.getElementById("change-grid"),changeGrid.removeEventListener("click",changeToLineGrid),changeGrid.addEventListener("click",changeToColGrid)}function changeToColGrid(){var a=document.getElementsByClassName("pin-item");for(i=0;i<a.length;i++)a[i].classList.remove("col-lg-6"),a[i].classList.remove("col-md-6"),a[i].classList.remove("col-sm-6"),a[i].classList.remove("col-xs-6"),a[i].classList.remove("pin-item-line-grid"),a[i].className+=" col-lg-3 col-md-3 col-sm-3 col-xs-3";isLine=!1,changeGrid=document.getElementById("change-grid"),changeGrid.removeEventListener("click",changeToColGrid),changeGrid.addEventListener("click",changeToLineGrid)}var settings=document.getElementById("settings-block"),showSettings=document.getElementById("settings"),hideSettings=document.getElementsByClassName("close")[0];showSettings.addEventListener("click",function(){settings.style.display="block"}),hideSettings.addEventListener("click",function(){settings.style.display="none"});var addPin=document.getElementById("add-pin-btn"),creationDate=document.getElementById("pin-creation-field"),dueDate=document.getElementById("pin-due-date"),addPinModal=document.getElementById("addPinModal");addPin.addEventListener("click",function(){addPinModal.setAttribute("data-backdrop","static"),addPinModal.setAttribute("data-keyboard","false");var a=new Date;creationDate.value=a.toLocaleDateString(),dueDate.valueAsDate=a});var saveAddPin=document.getElementById("save-add-pin"),savedPinsRow=document.getElementById("saved-pins-row"),pinTheme=document.getElementById("pin-theme-field"),pinMessage=document.getElementById("pin-message-field"),existingPinItems=document.getElementsByClassName("pin-item"),editPinCreationDate=document.getElementById("editpin-creation-field"),editPinDueDate=document.getElementById("editpin-due-date"),editPinTheme=document.getElementById("editpin-theme-field"),editPinMessage=document.getElementById("editpin-message-field"),updatePinBtn=document.getElementById("update-pin"),deletePinBtn=document.getElementById("delete-pin"),closePinBtn=document.getElementById("close-pin"),isLine=!1,isDefaultColor=!0,newPinColor=0,changeGrid=document.getElementById("change-grid");changeGrid.addEventListener("click",changeToLineGrid),saveAddPin.addEventListener("click",function(){var a=document.createElement("div");a.className=isLine?"pin-item col-lg-6 col-md-6 col-sm-6 col-xs-6 pin-item-line-grid":"pin-item col-lg-3 col-md-3 col-sm-3 col-xs-3",isDefaultColor||(a.style.backgroundImage="none",a.style.backgroundColor=newPinColor),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#showPinModal"),savedPinsRow.appendChild(a);for(var b=[],c=0;c<4;c++)b[c]=document.createElement("p"),b[c].className="pin-handwritten";for(b[0].className+=" pin-item-theme",b[1].className+=" pin-item-date",b[2].className+=" pin-item-due-date",b[3].className+=" pin-item-message",c=0;c<4;c++)a.appendChild(b[c]);for(b[0].innerText=pinTheme.value,b[1].innerText=creationDate.value,b[2].innerText="Due to: "+dueDate.valueAsDate.toLocaleDateString(),pinMessage.value?b[3].innerText=pinMessage.value:b[3].innerText="<No message>",pinTheme.value="",creationDate.value="",pinMessage.value="",saveAddPin.setAttribute("data-dismiss","modal"),c=0;c<existingPinItems.length;c++){existingPinItems[c].addEventListener("click",function(){var a=this;a.className+=" selected",editPinTheme.value=a.childNodes[0].innerText,editPinCreationDate.value=a.childNodes[1].innerText,editPinDueDate.value=reformatDate(a.childNodes[2].innerText.split(": ")[1]),editPinMessage.value=a.childNodes[3].innerText,updatePinBtn.addEventListener("click",function(){var a=document.getElementsByClassName("selected")[0];a.childNodes[0].innerText=editPinTheme.value,a.childNodes[1].innerText=editPinCreationDate.value,a.childNodes[2].innerText="Due to: "+editPinDueDate.valueAsDate.toLocaleDateString(),editPinMessage.value?a.childNodes[3].innerText=editPinMessage.value:a.childNodes[3].innerText="<No message>",a.classList.remove("selected"),updatePinBtn.setAttribute("data-dismiss","modal")}),closePinBtn.addEventListener("click",function(){document.getElementsByClassName("selected")[0].classList.remove("selected")}),deletePinBtn.addEventListener("click",function(){document.getElementsByClassName("selected")[0].remove(),deletePinBtn.setAttribute("data-dismiss","modal")})})}});var boardColor=document.getElementById("board-color"),saveColorsBtn=document.getElementById("save-colors-btn"),pinColor=document.getElementById("pin-color");boardColor.addEventListener("input",function(){var a=this.value;saveColorsBtn.addEventListener("click",function(){settings.style.display="none",document.body.style.backgroundImage="none",document.body.style.backgroundColor=a})}),pinColor.addEventListener("input",function(){var a=this.value;newPinColor=a,isDefaultColor=!1,saveColorsBtn.addEventListener("click",function(){settings.style.display="none";var b=document.getElementsByClassName("pin-item");for(i=0;i<b.length;i++)b[i].style.backgroundImage="none",b[i].style.backgroundColor=a})});var signOutBtn=document.getElementById("sign-out");signOutBtn.addEventListener("click",function(){window.location.href="index.html"});